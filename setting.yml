folder: ~/GRAPHITE

apps:
  - name: crystal
    git: 'https://github.com/crystal-lang/crystal.git'
    requireSelf:
      targz: 'https://github.com/crystal-lang/crystal/releases/download/0.27.2/crystal-0.27.2-1-linux-x86_64.tar.gz'
      command:
        crystal: 'bin/crystal'
    build:
      - 'make crystal release=1'
    postinstall:
      bin: ["bin/crystal"]

  - name: graphite
    git: 'https://github.com/nganhkhoa/graphite'
    build:
      - 'locate libgc.so'
      - 'crystal build src/graphite.cr'
    postinstall:
      bin: ["graphite"]

  - name: yarn
    git: 'https://github.com/yarnpkg/yarn'
    requireSelf:
      targz: 'https://github.com/yarnpkg/yarn/releases/download/v1.13.0/yarn-v1.13.0.tar.gz'
      command:
        yarn: 'bin/yarn'
    build:
      - 'yarn install'
      - './scripts/build-dist.sh'
    postinstall:
      bin: ["dist/bin/**"]
      lib: ["dist/lib/**"]

  - name: node
    git: 'https://github.com/nodejs/node.git'
    build:
      - 'pyenv local 2.7.15'
      - './configure'
      - 'make -j4'
    postinstall:
      bin: ["node"]
